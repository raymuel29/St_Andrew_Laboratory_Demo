<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare Admin Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: 168 85% 60%;
            --primary-foreground: 0 0% 100%;
            --secondary: 240 4% 16%;
            --secondary-foreground: 0 0% 100%;
            --accent: 142 71% 45%;
            --accent-foreground: 0 0% 100%;
            --background: 0 0% 7%;
            --foreground: 0 0% 98%;
            --card: 240 4% 10%;
            --card-foreground: 0 0% 98%;
            --border: 240 4% 16%;
            --muted: 240 4% 16%;
            --muted-foreground: 240 5% 65%;
        }
        
        body {
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .card {
            background-color: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
        }
        
        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: opacity 0.2s;
        }
        
        .btn-primary:hover {
            opacity: 0.9;
        }
        
        .btn-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
            border: 1px solid hsl(var(--border));
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .btn-secondary:hover {
            background-color: hsl(240 4% 20%);
        }
        
        .btn-danger {
            background-color: hsl(0 72% 51%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .btn-success {
            background-color: hsl(var(--accent));
            color: hsl(var(--accent-foreground));
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .nav-item {
            padding: 12px 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .nav-item:hover {
            background-color: hsl(var(--secondary));
        }
        
        .nav-item.active {
            background-color: hsl(var(--secondary));
            color: hsl(var(--primary));
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table th {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid hsl(var(--border));
            color: hsl(var(--muted-foreground));
            font-size: 14px;
            font-weight: 500;
        }
        
        .table td {
            padding: 12px;
            border-bottom: 1px solid hsl(var(--border));
        }
        
        .table tr:hover {
            background-color: hsl(240 4% 12%);
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .badge-success {
            background-color: hsl(142 71% 45% / 0.2);
            color: hsl(142 71% 60%);
        }
        
        .badge-warning {
            background-color: hsl(45 93% 47% / 0.2);
            color: hsl(45 93% 60%);
        }
        
        .badge-info {
            background-color: hsl(200 90% 50% / 0.2);
            color: hsl(200 90% 60%);
        }
        
        .badge-danger {
            background-color: hsl(0 72% 51% / 0.2);
            color: hsl(0 72% 65%);
        }
        
        input, select, textarea {
            background-color: hsl(var(--secondary));
            border: 1px solid hsl(var(--border));
            color: hsl(var(--foreground));
            padding: 8px 12px;
            border-radius: 6px;
            width: 100%;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: hsl(var(--primary));
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: hsl(var(--card));
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .stat-card {
            background: linear-gradient(135deg, hsl(var(--card)) 0%, hsl(240 4% 13%) 100%);
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            padding: 20px;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="p-0 m-0">
    <!-- Header -->
    <header class="border-b" style="border-color: hsl(var(--border)); background-color: hsl(var(--card));">
        <div class="flex items-center justify-between px-6 py-4">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background-color: hsl(var(--primary));">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-semibold">St. Andrew Hospital</h1>
                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Admin Management System</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <span style="color: hsl(var(--muted-foreground));">Administrator: <span id="currentUserName">Admin</span></span>
                <button class="btn-secondary" onclick="logout()">Logout</button>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 min-h-screen border-r p-4" style="border-color: hsl(var(--border)); background-color: hsl(var(--card));">
            <nav class="space-y-2">
                <div class="nav-item active" onclick="showSection('dashboard')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    Dashboard
                </div>
                <div class="nav-item" onclick="showSection('admin-accounts')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                    </svg>
                    Admin Accounts
                </div>
                <div class="nav-item" onclick="showSection('employees')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                    </svg>
                    Employee Management
                </div>
                <div class="nav-item" onclick="showSection('payroll')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Payroll
                </div>
                <div class="nav-item" onclick="showSection('departments')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                    </svg>
                    Department Monitoring
                </div>
                <div class="nav-item" onclick="showSection('reports')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    Reports Dashboard
                </div>
                <div class="nav-item" onclick="showSection('system-config')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    System Configuration
                </div>
                <div class="nav-item" onclick="showSection('audit-logs')">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    Audit Logs
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section">
                <h2 class="text-2xl font-semibold mb-6">Admin Dashboard Overview</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-2">
                            <span style="color: hsl(var(--muted-foreground));">Total Employees</span>
                            <svg class="w-5 h-5" style="color: hsl(var(--primary));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                            </svg>
                        </div>
                        <div class="text-3xl font-bold">47</div>
                        <div class="text-sm mt-1" style="color: hsl(var(--accent));">+3 this month</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-2">
                            <span style="color: hsl(var(--muted-foreground));">Active Departments</span>
                            <svg class="w-5 h-5" style="color: hsl(168 85% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                            </svg>
                        </div>
                        <div class="text-3xl font-bold">9</div>
                        <div class="text-sm mt-1" style="color: hsl(var(--muted-foreground));">All modules running</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-2">
                            <span style="color: hsl(var(--muted-foreground));">Monthly Payroll</span>
                            <svg class="w-5 h-5" style="color: hsl(var(--accent));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div class="text-3xl font-bold">₱2.4M</div>
                        <div class="text-sm mt-1" style="color: hsl(var(--accent));">+5% from last month</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-2">
                            <span style="color: hsl(var(--muted-foreground));">Active Sessions</span>
                            <svg class="w-5 h-5" style="color: hsl(45 93% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div class="text-3xl font-bold">23</div>
                        <div class="text-sm mt-1" style="color: hsl(var(--muted-foreground));">Users online</div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">System Modules Status</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-3">
                                    <div class="w-2 h-2 rounded-full" style="background-color: hsl(var(--accent));"></div>
                                    <span>Front Desk/Admission</span>
                                </div>
                                <span class="badge badge-success">Active</span>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-3">
                                    <div class="w-2 h-2 rounded-full" style="background-color: hsl(var(--accent));"></div>
                                    <span>Doctor/EMR</span>
                                </div>
                                <span class="badge badge-success">Active</span>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-3">
                                    <div class="w-2 h-2 rounded-full" style="background-color: hsl(var(--accent));"></div>
                                    <span>Nurse Module</span>
                                </div>
                                <span class="badge badge-success">Active</span>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-3">
                                    <div class="w-2 h-2 rounded-full" style="background-color: hsl(var(--accent));"></div>
                                    <span>Laboratory</span>
                                </div>
                                <span class="badge badge-success">Active</span>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-3">
                                    <div class="w-2 h-2 rounded-full" style="background-color: hsl(var(--accent));"></div>
                                    <span>Pharmacy</span>
                                </div>
                                <span class="badge badge-success">Active</span>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">Recent Admin Activity</h3>
                        <div class="space-y-3">
                            <div class="flex gap-3 p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="w-2 h-2 rounded-full mt-2" style="background-color: hsl(var(--accent));"></div>
                                <div class="flex-1">
                                    <div class="font-medium">New Employee Added</div>
                                    <div class="text-sm" style="color: hsl(var(--muted-foreground));">Dr. Sarah Johnson - Doctor/EMR</div>
                                    <div class="text-xs mt-1" style="color: hsl(var(--muted-foreground));">2 hours ago</div>
                                </div>
                            </div>
                            
                            <div class="flex gap-3 p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="w-2 h-2 rounded-full mt-2" style="background-color: hsl(var(--primary));"></div>
                                <div class="flex-1">
                                    <div class="font-medium">Payroll Processed</div>
                                    <div class="text-sm" style="color: hsl(var(--muted-foreground));">December 2024 payroll completed</div>
                                    <div class="text-xs mt-1" style="color: hsl(var(--muted-foreground));">4 hours ago</div>
                                </div>
                            </div>
                            
                            <div class="flex gap-3 p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="w-2 h-2 rounded-full mt-2" style="background-color: hsl(45 93% 60%);"></div>
                                <div class="flex-1">
                                    <div class="font-medium">System Configuration Updated</div>
                                    <div class="text-sm" style="color: hsl(var(--muted-foreground));">SMS notification settings modified</div>
                                    <div class="text-xs mt-1" style="color: hsl(var(--muted-foreground));">1 day ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

             <!-- Admin Accounts Section -->
            <section id="admin-accounts" class="content-section hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-semibold">Admin Account Management</h2>
                    <button class="btn-primary" onclick="openModal('addAdminModal')">+ Add Admin Account</button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">Current Admin Account</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div>
                                    <div class="font-medium">Password:</div>
                                    <div class="text-sm" style="color: hsl(var(--muted-foreground));">••••••••</div>
                                </div>
                                <button class="btn-secondary text-sm" onclick="changePassword()">Change</button>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">Security Information</h3>
                        <div class="space-y-3">
                            <div class="p-4 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-5 h-5" style="color: hsl(var(--primary));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                    </svg>
                                    <span class="font-medium">Last Password Change</span>
                                </div>
                                <div class="text-sm" style="color: hsl(var(--muted-foreground));">Dec 1, 2024</div>
                            </div>
                            <div class="p-4 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-5 h-5" style="color: hsl(45 93% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                    <span class="font-medium">Account Created</span>
                                </div>
                                <div class="text-sm" style="color: hsl(var(--muted-foreground));">Jan 15, 2024</div>
                            </div>
                            <div class="p-4 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-5 h-5" style="color: hsl(var(--accent));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span class="font-medium">Total Admin Accounts</span>
                                </div>
                                <div class="text-sm" style="color: hsl(var(--muted-foreground));" id="totalAdminCount">1</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="p-6 border-b" style="border-color: hsl(var(--border));">
                        <h3 class="text-lg font-semibold">All Admin Accounts</h3>
                    </div>
                    
                    <table class="table" id="adminAccountsTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Username</th>
                                <th>Full Name</th>
                                <th>Password</th>
                                <th>Role</th>
                                <th>Created Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="adminAccountsTableBody">
                            <!-- Data loaded via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Employees Section - Enhanced for all roles -->
            <section id="employees" class="content-section hidden">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-semibold">Employee Management</h2>
                    <button class="btn-primary" onclick="openModal('addEmployeeModal')">+ Add Employee</button>
                </div>

                <div class="card p-6 mb-6">
                    <div class="flex gap-4 flex-wrap">
                        <input type="text" id="employeeSearch" placeholder="Search employees..." class="flex-1 min-w-64" onkeyup="filterEmployees()">
                        <select id="departmentFilter" onchange="filterEmployees()" class="w-48">
                            <option value="">All Departments</option>
                            <option value="Front Desk">Front Desk/Admission</option>
                            <option value="Doctor">Doctor/EMR</option>
                            <option value="Nurse">Nurse</option>
                            <option value="Laboratory">Laboratory</option>
                            <option value="Pharmacy">Pharmacy</option>
                            <option value="Ward">Ward/Room Management</option>
                            <option value="Billing">Billing/Business Office</option>
                        </select>
                        <select id="statusFilter" onchange="filterEmployees()" class="w-48">
                            <option value="">All Status</option>
                            <option value="Active">Active</option>
                            <option value="Inactive">Inactive</option>
                            <option value="On Leave">On Leave</option>
                        </select>
                    </div>
                </div>

                <div class="card">
                    <table class="table" id="employeesTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Department/Role</th>
                                <th>Contact</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeesTableBody">
                            <tr>
                                <td>#EMP001</td>
                                <td>Dr. Sarah Johnson</td>
                                <td>sarah.j@hospital.com</td>
                                <td><span class="badge badge-info">Doctor/EMR</span></td>
                                <td>+63 912 345 6789</td>
                                <td><span class="badge badge-success">Active</span></td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="editEmployee(1)">Edit</button>
                                        <button class="btn-secondary text-sm" onclick="viewEmployeeDetails(1)">View</button>
                                        <button class="btn-danger text-sm" onclick="deleteEmployee(1)">Delete</button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>#EMP002</td>
                                <td>Maria Santos</td>
                                <td>m.santos@hospital.com</td>
                                <td><span class="badge badge-success">Front Desk</span></td>
                                <td>+63 917 234 5678</td>
                                <td><span class="badge badge-success">Active</span></td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="editEmployee(2)">Edit</button>
                                        <button class="btn-secondary text-sm" onclick="viewEmployeeDetails(2)">View</button>
                                        <button class="btn-danger text-sm" onclick="deleteEmployee(2)">Delete</button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>#EMP003</td>
                                <td>Emily Rodriguez</td>
                                <td>e.rodriguez@hospital.com</td>
                                <td><span class="badge badge-warning">Pharmacy</span></td>
                                <td>+63 918 345 6789</td>
                                <td><span class="badge badge-success">Active</span></td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="editEmployee(3)">Edit</button>
                                        <button class="btn-secondary text-sm" onclick="viewEmployeeDetails(3)">View</button>
                                        <button class="btn-danger text-sm" onclick="deleteEmployee(3)">Delete</button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>#EMP004</td>
                                <td>Michael Chen</td>
                                <td>m.chen@hospital.com</td>
                                <td><span class="badge badge-info">Laboratory</span></td>
                                <td>+63 919 456 7890</td>
                                <td><span class="badge badge-success">Active</span></td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="editEmployee(4)">Edit</button>
                                        <button class="btn-secondary text-sm" onclick="viewEmployeeDetails(4)">View</button>
                                        <button class="btn-danger text-sm" onclick="deleteEmployee(4)">Delete</button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>#EMP005</td>
                                <td>Jennifer Adams</td>
                                <td>j.adams@hospital.com</td>
                                <td><span class="badge badge-info">Nurse</span></td>
                                <td>+63 920 567 8901</td>
                                <td><span class="badge badge-warning">On Leave</span></td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="editEmployee(5)">Edit</button>
                                        <button class="btn-secondary text-sm" onclick="viewEmployeeDetails(5)">View</button>
                                        <button class="btn-danger text-sm" onclick="deleteEmployee(5)">Delete</button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Payroll Section -->
            <section id="payroll" class="content-section hidden">
                <h2 class="text-2xl font-semibold mb-6">Payroll Management</h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="stat-card">
                        <div class="text-sm mb-2" style="color: hsl(var(--muted-foreground));">Current Month Payroll</div>
                        <div class="text-2xl font-bold">₱2,450,000</div>
                        <div class="text-sm mt-1" style="color: hsl(var(--accent));">47 Employees</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-sm mb-2" style="color: hsl(var(--muted-foreground));">Pending Payments</div>
                        <div class="text-2xl font-bold">5</div>
                        <div class="text-sm mt-1" style="color: hsl(45 93% 60%);">To be processed</div>
                    </div>
                    <div class="stat-card">
                        <div class="text-sm mb-2" style="color: hsl(var(--muted-foreground));">YTD Payroll</div>
                        <div class="text-2xl font-bold">₱28.5M</div>
                        <div class="text-sm mt-1" style="color: hsl(var(--muted-foreground));">January - December 2024</div>
                    </div>
                </div>

                <div class="card p-6 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Payroll Actions</h3>
                        <div class="flex gap-3">
                            <button class="btn-primary" onclick="processPayroll()">Process Payroll</button>
                            <button class="btn-secondary" onclick="generatePayrollReport()">Generate Report</button>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block mb-2">Payroll Period</label>
                            <select class="w-full">
                                <option>December 2024</option>
                                <option>November 2024</option>
                                <option>October 2024</option>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-2">Department Filter</label>
                            <select class="w-full">
                                <option value="">All Departments</option>
                                <option>Front Desk</option>
                                <option>Doctor/EMR</option>
                                <option>Nurse</option>
                                <option>Laboratory</option>
                                <option>Pharmacy</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="p-6 border-b" style="border-color: hsl(var(--border));">
                        <h3 class="text-lg font-semibold">Payroll History</h3>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Period</th>
                                <th>Total Amount</th>
                                <th>Employees</th>
                                <th>Status</th>
                                <th>Processed Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>December 2024</td>
                                <td>₱2,450,000</td>
                                <td>47</td>
                                <td><span class="badge badge-success">Completed</span></td>
                                <td>Jan 02, 2025</td>
                                <td>
                                    <button class="btn-secondary text-sm" onclick="viewPayrollDetails('dec2024')">View Details</button>
                                </td>
                            </tr>
                            <tr>
                                <td>November 2024</td>
                                <td>₱2,385,000</td>
                                <td>45</td>
                                <td><span class="badge badge-success">Completed</span></td>
                                <td>Dec 02, 2024</td>
                                <td>
                                    <button class="btn-secondary text-sm" onclick="viewPayrollDetails('nov2024')">View Details</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Department Monitoring Section -->
            <section id="departments" class="content-section hidden">
                <h2 class="text-2xl font-semibold mb-6">Department Monitoring & Reports</h2>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <!-- Front Desk Module -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background-color: hsl(var(--accent) / 0.2);">
                                    <svg class="w-6 h-6" style="color: hsl(var(--accent));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Front Desk/Admission</h3>
                                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Patient Registration & Check-in</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="space-y-2 mt-4">
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Today's Registrations:</span>
                                <span class="font-semibold">32</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Appointments:</span>
                                <span class="font-semibold">45</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Waiting Patients:</span>
                                <span class="font-semibold">12</span>
                            </div>
                        </div>
                        <button class="btn-secondary w-full mt-4" onclick="viewModuleReport('frontdesk')">View Full Report</button>
                    </div>

                    <!-- Doctor/EMR Module -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background-color: hsl(var(--primary) / 0.2);">
                                    <svg class="w-6 h-6" style="color: hsl(var(--primary));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Doctor/EMR</h3>
                                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Electronic Medical Records</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="space-y-2 mt-4">
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Today's Consultations:</span>
                                <span class="font-semibold">67</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Prescriptions Issued:</span>
                                <span class="font-semibold">89</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Lab Orders:</span>
                                <span class="font-semibold">45</span>
                            </div>
                        </div>
                        <button class="btn-secondary w-full mt-4" onclick="viewModuleReport('doctor')">View Full Report</button>
                    </div>

                    <!-- Nurse Module -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background-color: hsl(168 85% 60% / 0.2);">
                                    <svg class="w-6 h-6" style="color: hsl(168 85% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Nurse Module</h3>
                                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Patient Care & Monitoring</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="space-y-2 mt-4">
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Patients Assigned:</span>
                                <span class="font-semibold">45</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Med Admin Records:</span>
                                <span class="font-semibold">156</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Vital Signs Taken:</span>
                                <span class="font-semibold">234</span>
                            </div>
                        </div>
                        <button class="btn-secondary w-full mt-4" onclick="viewModuleReport('nurse')">View Full Report</button>
                    </div>

                    <!-- Laboratory Module -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background-color: hsl(45 93% 60% / 0.2);">
                                    <svg class="w-6 h-6" style="color: hsl(45 93% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Laboratory</h3>
                                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Test Processing & Results</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="space-y-2 mt-4">
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Tests Today:</span>
                                <span class="font-semibold">127</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Pending Results:</span>
                                <span class="font-semibold">23</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Completed:</span>
                                <span class="font-semibold">104</span>
                            </div>
                        </div>
                        <button class="btn-secondary w-full mt-4" onclick="viewModuleReport('laboratory')">View Full Report</button>
                    </div>

                    <!-- Pharmacy Module -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background-color: hsl(200 90% 50% / 0.2);">
                                    <svg class="w-6 h-6" style="color: hsl(200 90% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Pharmacy</h3>
                                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Prescriptions & Inventory</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="space-y-2 mt-4">
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Prescriptions Today:</span>
                                <span class="font-semibold">89</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Dispensed:</span>
                                <span class="font-semibold">76</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Low Stock Items:</span>
                                <span class="font-semibold text-red-400">8</span>
                            </div>
                        </div>
                        <button class="btn-secondary w-full mt-4" onclick="viewModuleReport('pharmacy')">View Full Report</button>
                    </div>

                    <!-- Billing/Business Office -->
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background-color: hsl(142 71% 45% / 0.2);">
                                    <svg class="w-6 h-6" style="color: hsl(142 71% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold">Billing/Business Office</h3>
                                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">Financial Management</p>
                                </div>
                            </div>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="space-y-2 mt-4">
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Today's Revenue:</span>
                                <span class="font-semibold">₱45,230</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Pending Claims:</span>
                                <span class="font-semibold">18</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span style="color: hsl(var(--muted-foreground));">Invoices Generated:</span>
                                <span class="font-semibold">52</span>
                            </div>
                        </div>
                        <button class="btn-secondary w-full mt-4" onclick="viewModuleReport('billing')">View Full Report</button>
                    </div>
                </div>
            </section>

            <!-- Reports Dashboard Section -->
            <section id="reports" class="content-section hidden">
                <h2 class="text-2xl font-semibold mb-6">Reports Dashboard</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                    <button class="card p-6 text-left hover:bg-opacity-80 transition" onclick="generateReport('employee')">
                        <div class="flex items-center gap-3 mb-2">
                            <svg class="w-8 h-8" style="color: hsl(var(--primary));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
                            </svg>
                            <h3 class="text-lg font-semibold">Employee Report</h3>
                        </div>
                        <p class="text-sm" style="color: hsl(var(--muted-foreground));">Complete employee listing with details</p>
                    </button>

                    <button class="card p-6 text-left hover:bg-opacity-80 transition" onclick="generateReport('payroll')">
                        <div class="flex items-center gap-3 mb-2">
                            <svg class="w-8 h-8" style="color: hsl(var(--accent));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <h3 class="text-lg font-semibold">Payroll Report</h3>
                        </div>
                        <p class="text-sm" style="color: hsl(var(--muted-foreground));">Salary and compensation summary</p>
                    </button>

                    <button class="card p-6 text-left hover:bg-opacity-80 transition" onclick="generateReport('department')">
                        <div class="flex items-center gap-3 mb-2">
                            <svg class="w-8 h-8" style="color: hsl(168 85% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                            </svg>
                            <h3 class="text-lg font-semibold">Department Report</h3>
                        </div>
                        <p class="text-sm" style="color: hsl(var(--muted-foreground));">Performance by department/module</p>
                    </button>

                    <button class="card p-6 text-left hover:bg-opacity-80 transition" onclick="generateReport('financial')">
                        <div class="flex items-center gap-3 mb-2">
                            <svg class="w-8 h-8" style="color: hsl(45 93% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                            </svg>
                            <h3 class="text-lg font-semibold">Financial Report</h3>
                        </div>
                        <p class="text-sm" style="color: hsl(var(--muted-foreground));">Revenue, expenses, and profitability</p>
                    </button>

                    <button class="card p-6 text-left hover:bg-opacity-80 transition" onclick="generateReport('audit')">
                        <div class="flex items-center gap-3 mb-2">
                            <svg class="w-8 h-8" style="color: hsl(200 90% 60%);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            <h3 class="text-lg font-semibold">Audit Report</h3>
                        </div>
                        <p class="text-sm" style="color: hsl(var(--muted-foreground));">System activity and security logs</p>
                    </button>

                    <button class="card p-6 text-left hover:bg-opacity-80 transition" onclick="generateReport('custom')">
                        <div class="flex items-center gap-3 mb-2">
                            <svg class="w-8 h-8" style="color: hsl(var(--primary));" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                            </svg>
                            <h3 class="text-lg font-semibold">Custom Report</h3>
                        </div>
                        <p class="text-sm" style="color: hsl(var(--muted-foreground));">Build your own custom report</p>
                    </button>
                </div>

                <div class="card p-6">
                    <h3 class="text-lg font-semibold mb-4">Recent Reports</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Report Name</th>
                                <th>Type</th>
                                <th>Generated By</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>December 2024 Payroll Summary</td>
                                <td><span class="badge badge-info">Payroll</span></td>
                                <td>Admin</td>
                                <td>Jan 02, 2025</td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="viewReport('payroll-dec')">View</button>
                                        <button class="btn-secondary text-sm" onclick="downloadReport('payroll-dec')">Download</button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Q4 2024 Financial Report</td>
                                <td><span class="badge badge-success">Financial</span></td>
                                <td>Admin</td>
                                <td>Dec 31, 2024</td>
                                <td>
                                    <div class="flex gap-2">
                                        <button class="btn-secondary text-sm" onclick="viewReport('financial-q4')">View</button>
                                        <button class="btn-secondary text-sm" onclick="downloadReport('financial-q4')">Download</button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- System Configuration Section -->
            <section id="system-config" class="content-section hidden"></section>
                <h2 class="text-2xl font-semibold mb-6">System Configuration</h2>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">General Settings</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block mb-2">Hospital Name</label>
                                <input type="text" value="St. Andrew Hospital" class="w-full">
                            </div>
                            <div>
                                <label class="block mb-2">System Timezone</label>
                                <select class="w-full">
                                    <option>Asia/Manila (UTC+8)</option>
                                    <option>Asia/Tokyo (UTC+9)</option>
                                    <option>Asia/Singapore (UTC+8)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2">Date Format</label>
                                <select class="w-full">
                                    <option>MM/DD/YYYY</option>
                                    <option>DD/MM/YYYY</option>
                                    <option>YYYY-MM-DD</option>
                                </select>
                            </div>
                            <button class="btn-primary w-full">Save General Settings</button>
                        </div>
                    </div>

                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">SMS Notification Settings</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Appointment Reminders</span>
                                <input type="checkbox" checked class="w-5 h-5">
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Lab Results Ready</span>
                                <input type="checkbox" checked class="w-5 h-5">
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Medication Reminders</span>
                                <input type="checkbox" class="w-5 h-5">
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Billing Alerts</span>
                                <input type="checkbox" checked class="w-5 h-5">
                            </div>
                            <button class="btn-primary w-full">Save SMS Settings</button>
                        </div>
                    </div>

                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">Security Settings</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block mb-2">Session Timeout (minutes)</label>
                                <input type="number" value="30" class="w-full">
                            </div>
                            <div>
                                <label class="block mb-2">Password Minimum Length</label>
                                <input type="number" value="6" class="w-full">
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Require Password Change Every 90 Days</span>
                                <input type="checkbox" checked class="w-5 h-5">
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Enable Two-Factor Authentication</span>
                                <input type="checkbox" class="w-5 h-5">
                            </div>
                            <button class="btn-primary w-full">Save Security Settings</button>
                        </div>
                    </div>

                    <div class="card p-6">
                        <h3 class="text-lg font-semibold mb-4">Module Access Control</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Front Desk Module</span>
                                <span class="badge badge-success">Enabled</span>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Doctor/EMR Module</span>
                                <span class="badge badge-success">Enabled</span>
                            </div>
                            <div class="flex items-center justify-between p-3 rounded-lg" style="background-color: hsl(var(--secondary));">
                                <span>Patient Portal</span>
                                <span class="badge badge-warning">Disabled</span>
                            </div>
                            <button class="btn-secondary w-full">Configure Modules</button>
                        </div>
                    </div>
                </div>

                <div class="card p-6 mt-6">
                    <h3 class="text-lg font-semibold mb-4 text-red-400">Danger Zone</h3>
                    <div class="space-y-3">
                        <button class="btn-danger w-full" onclick="backupDatabase()">Backup Database</button>
                        <button class="btn-danger w-full" onclick="clearCache()">Clear System Cache</button>
                        <button class="btn-danger w-full" onclick="resetSystem()">Reset System (Caution!)</button>
                    </div>
                </div>
            </section>

            <!-- Audit Logs Section -->
            <section id="audit-logs" class="content-section hidden">
                <h2 class="text-2xl font-semibold mb-6">Audit Logs & Security</h2>

                <div class="card p-6 mb-6">
                    <div class="flex gap-4 flex-wrap">
                        <input type="text" id="logSearch" placeholder="Search logs..." class="flex-1 min-w-64" onkeyup="filterLogs()">
                        <select id="actionFilter" onchange="filterLogs()" class="w-48">
                            <option value="">All Actions</option>
                            <option value="create">Create</option>
                            <option value="update">Update</option>
                            <option value="delete">Delete</option>
                            <option value="login">Login</option>
                            <option value="logout">Logout</option>
                        </select>
                        <input type="date" id="dateFilter" onchange="filterLogs()" class="w-48">
                    </div>
                </div>

                <div class="card">
                    <table class="table" id="auditLogsTable">
                        <thead>
                            <tr>
                                <th>Timestamp</th>
                                <th>User</th>
                                <th>Action</th>
                                <th>Entity</th>
                                <th>Details</th>
                                <th>IP Address</th>
                            </tr>
                        </thead>
                        <tbody id="auditLogsTableBody">
                            <!-- Data loaded via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Admin Modal -->
    <div id="addAdminModal" class="modal">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Add New Admin Account</h3>
                <button onclick="closeModal('addAdminModal')" class="text-2xl">&times;</button>
            </div>
            <form onsubmit="addAdmin(event)" class="space-y-4">
                <div>
                    <label class="block mb-2">Username</label>
                    <input type="text" id="newAdminUsername" required placeholder="Enter username">
                </div>
                <div>
                    <label class="block mb-2">Full Name</label>
                    <input type="text" id="newAdminFullName" required placeholder="Enter full name">
                </div>
                <div>
                    <label class="block mb-2">Password</label>
                    <input type="password" id="newAdminPassword" required placeholder="Enter password" minlength="6">
                </div>
                <div class="p-4 rounded-lg" style="background-color: hsl(var(--secondary)); border: 1px solid hsl(var(--border));">
                    <p class="text-sm" style="color: hsl(var(--muted-foreground));">
                        <strong>Note:</strong> This account will be created with full administrative privileges.
                    </p>
                </div>
                <div class="flex gap-3 mt-6">
                    <button type="submit" class="btn-primary flex-1">Create Admin Account</button>
                    <button type="button" class="btn-secondary flex-1" onclick="closeModal('addAdminModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Admin Modal -->
    <div id="editAdminModal" class="modal">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Edit Admin Account</h3>
                <button onclick="closeModal('editAdminModal')" class="text-2xl">&times;</button>
            </div>
            <form onsubmit="updateDefaultAdmin(event)" class="space-y-4">
                <input type="hidden" id="editAdminId">
                <div>
                    <label class="block mb-2">Username</label>
                    <input type="text" id="editAdminUsername" required placeholder="Enter username">
                </div>
                <div>
                    <label class="block mb-2">Full Name</label>
                    <input type="text" id="editAdminFullName" required placeholder="Enter full name">
                </div>
                <div class="flex gap-3 mt-6">
                    <button type="submit" class="btn-primary flex-1">Update Account</button>
                    <button type="button" class="btn-secondary flex-1" onclick="closeModal('editAdminModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Change Password</h3>
                <button onclick="closeModal('changePasswordModal')" class="text-2xl">&times;</button>
            </div>
            <form onsubmit="updatePassword(event)" class="space-y-4">
                <div>
                    <label class="block mb-2">Current Password</label>
                    <input type="password" id="currentPassword" required placeholder="Enter current password">
                </div>
                <div>
                    <label class="block mb-2">New Password</label>
                    <input type="password" id="newPassword" required placeholder="Enter new password" minlength="6">
                </div>
                <div>
                    <label class="block mb-2">Confirm New Password</label>
                    <input type="password" id="confirmPassword" required placeholder="Confirm new password" minlength="6">
                </div>
                <div class="flex gap-3 mt-6">
                    <button type="submit" class="btn-primary flex-1">Update Password</button>
                    <button type="button" class="btn-secondary flex-1" onclick="closeModal('changePasswordModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Employee Modal -->
    <div id="addEmployeeModal" class="modal">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Add New Employee</h3>
                <button onclick="closeModal('addEmployeeModal')" class="text-2xl">&times;</button>
            </div>
            <form onsubmit="addEmployee(event)" class="space-y-4">
                <div>
                    <label class="block mb-2">Full Name</label>
                    <input type="text" id="empName" required placeholder="Enter full name">
                </div>
                <div>
                    <label class="block mb-2">Email</label>
                    <input type="email" id="empEmail" required placeholder="employee@hospital.com">
                </div>
                <div>
                    <label class="block mb-2">Contact Number</label>
                    <input type="tel" id="empContact" required placeholder="+63 912 345 6789">
                </div>
                <div>
                    <label class="block mb-2">Department/Role</label>
                    <select id="empDepartment" required>
                        <option value="">Select Department/Role</option>
                        <option value="Front Desk">Front Desk/Admission</option>
                        <option value="Doctor">Doctor/EMR</option>
                        <option value="Nurse">Nurse</option>
                        <option value="Laboratory">Laboratory</option>
                        <option value="Pharmacy">Pharmacy</option>
                        <option value="Ward">Ward/Room Management</option>
                        <option value="Billing">Billing/Business Office</option>
                    </select>
                </div>
                <div>
                    <label class="block mb-2">Username</label>
                    <input type="text" id="empUsername" required placeholder="username">
                </div>
                <div>
                    <label class="block mb-2">Password</label>
                    <input type="password" id="empPassword" required placeholder="Enter password" minlength="6">
                </div>
                <div class="flex gap-3 mt-6">
                    <button type="submit" class="btn-primary flex-1">Add Employee</button>
                    <button type="button" class="btn-secondary flex-1" onclick="closeModal('addEmployeeModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    
    <script>
        /* GLOBAL STATE */
        let adminAccounts = [];
        let auditLogs = [];

        /* PAGE INITIALIZATION */
        document.addEventListener('DOMContentLoaded', () => {
            loadAdminAccounts();
            loadAuditLogs();
            loadCurrentUserInfo();
            setupEventListeners();
        });

        function setupEventListeners() {
            window.onclick = function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.classList.remove('active');
                }
            }
        }

        async function loadCurrentUserInfo() {
            try {
                const response = await fetch('/api/current-user');
                const data = await response.json();
                
                if (data.status === 'success') {
                    document.getElementById('currentUserName').textContent = data.full_name;
                }
            } catch (err) {
                console.error('Error loading current user info:', err);
            }
        }

        /* NAVIGATION */
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const section = document.getElementById(sectionId);
            if (section) {
                section.classList.remove('hidden');
            }
            
            event.target.closest('.nav-item').classList.add('active');
            
            if (sectionId === 'admin-accounts') {
                loadAdminAccounts();
            } else if (sectionId === 'audit-logs') {
                loadAuditLogs();
            }
        }

        /*MODAL FUNCTIONS */
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                const form = modal.querySelector('form');
                if (form) form.reset();
            }
        }

        /*  ADMIN ACCOUNT FUNCTIONS */
        async function loadAdminAccounts() {
            try {
                const response = await fetch('/api/admin/list');
                const data = await response.json();
                
                if (data.status === 'success') {
                    adminAccounts = data.data;
                    renderAdminAccountsTable();
                    updateAdminCount();
                }
            } catch (err) {
                console.error('Error loading admin accounts:', err);
                showAlert('error', 'Error', 'Failed to load admin accounts');
            }
        }

        function renderAdminAccountsTable() {
            const tbody = document.getElementById('adminAccountsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            adminAccounts.forEach(admin => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#ADM${String(admin.id).padStart(3, '0')}</td>
                    <td>${admin.username}</td>
                    <td>${admin.full_name}</td>
                    <td>••••••••</td>
                    <td><span class="badge badge-success">${admin.role}</span></td>
                    <td>${admin.created_date}</td>
                    <td>
                        <div class="flex gap-2">
                            <button class="btn-secondary text-sm" onclick="editAdmin(${admin.id})">Edit</button>
                            <button class="btn-danger text-sm" onclick="deleteAdmin(${admin.id})" ${admin.id === 1 ? 'disabled' : ''}>Delete</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateAdminCount() {
            const countElement = document.getElementById('totalAdminCount');
            if (countElement) {
                countElement.textContent = adminAccounts.length;
            }
        }

        function editDefaultAdmin() {
            if (adminAccounts.length > 0) {
                const defaultAdmin = adminAccounts[0];
                document.getElementById('editAdminId').value = defaultAdmin.id;
                document.getElementById('editAdminUsername').value = defaultAdmin.username;
                document.getElementById('editAdminFullName').value = defaultAdmin.full_name;
                openModal('editAdminModal');
            }
        }

        function editAdmin(id) {
            const admin = adminAccounts.find(a => a.id === id);
            if (admin) {
                document.getElementById('editAdminId').value = admin.id;
                document.getElementById('editAdminUsername').value = admin.username;
                document.getElementById('editAdminFullName').value = admin.full_name;
                openModal('editAdminModal');
            }
        }

        async function addAdmin(event) {
            event.preventDefault();
            
            const username = document.getElementById('newAdminUsername').value.trim();
            const password = document.getElementById('newAdminPassword').value.trim();
            const fullName = document.getElementById('newAdminFullName').value.trim();
            
            if (!username || !password || !fullName) {
                showAlert('error', 'Error', 'Please fill in all fields!');
                return;
            }
            
            try {
                const response = await fetch('/api/admin/create', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password, full_name: fullName })
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    showAlert('success', 'Success', 'Admin account created successfully!');
                    closeModal('addAdminModal');
                    loadAdminAccounts();
                } else {
                    showAlert('error', 'Error', data.message);
                }
            } catch (err) {
                console.error('Error creating admin:', err);
                showAlert('error', 'Error', 'Failed to create admin account');
            }
        }

        async function updateDefaultAdmin(event) {
            event.preventDefault();
            
            const id = parseInt(document.getElementById('editAdminId').value);
            const username = document.getElementById('editAdminUsername').value.trim();
            const fullName = document.getElementById('editAdminFullName').value.trim();
            
            if (!username || !fullName) {
                showAlert('error', 'Error', 'Please fill in all fields!');
                return;
            }
            
            try {
                const response = await fetch(`/api/admin/update/${id}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, full_name: fullName })
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    showAlert('success', 'Success', 'Admin account updated successfully!');
                    closeModal('editAdminModal');
                    loadAdminAccounts();
                    
                    document.getElementById('currentAdminUsername').textContent = username;
                    document.getElementById('currentAdminName').textContent = fullName;
                    document.getElementById('currentUserName').textContent = fullName;
                    
                    setTimeout(() => {
                        window.location.reload();
                    }, 1500);
                } else {
                    showAlert('error', 'Error', data.message);
                }
            } catch (err) {
                console.error('Error updating admin:', err);
                showAlert('error', 'Error', 'Failed to update admin account');
            }
        }

        async function deleteAdmin(id) {
            if (id === 1) {
                showAlert('error', 'Error', 'Cannot delete the default admin account!');
                return;
            }
            
            if (!confirm('Are you sure you want to delete this admin account?')) {
                return;
            }
            
            try {
                const response = await fetch(`/api/admin/delete/${id}`, {
                    method: 'DELETE'
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    showAlert('success', 'Success', 'Admin account deleted successfully!');
                    loadAdminAccounts();
                } else {
                    showAlert('error', 'Error', data.message);
                }
            } catch (err) {
                console.error('Error deleting admin:', err);
                showAlert('error', 'Error', 'Failed to delete admin account');
            }
        }

        function changePassword() {
            openModal('changePasswordModal');
        }

        async function updatePassword(event) {
            event.preventDefault();
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (newPassword !== confirmPassword) {
                showAlert('error', 'Error', 'New passwords do not match!');
                return;
            }
            
            if (newPassword.length < 6) {
                showAlert('error', 'Error', 'Password must be at least 6 characters long!');
                return;
            }
            
            try {
                const response = await fetch('/api/admin/change-password', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ current_password: currentPassword, new_password: newPassword })
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    showAlert('success', 'Success', 'Password updated successfully!');
                    closeModal('changePasswordModal');
                    event.target.reset();
                } else {
                    showAlert('error', 'Error', data.message);
                }
            } catch (err) {
                console.error('Error changing password:', err);
                showAlert('error', 'Error', 'Failed to change password');
            }
        }

        /* EMPLOYEE FUNCTIONS*/
        function addEmployee(event) {
            event.preventDefault();
            showAlert('info', 'Coming Soon', 'Employee management will be fully implemented with backend integration');
            closeModal('addEmployeeModal');
        }

        function editEmployee(id) {
            showAlert('info', 'Coming Soon', 'Employee editing will be implemented');
        }

        function viewEmployeeDetails(id) {
            showAlert('info', 'Coming Soon', 'Employee details view will be implemented');
        }

        function deleteEmployee(id) {
            showAlert('info', 'Coming Soon', 'Employee deletion will be implemented');
        }

        function filterEmployees() {
            const searchTerm = document.getElementById('employeeSearch').value.toLowerCase();
            const deptFilter = document.getElementById('departmentFilter').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value.toLowerCase();
            
            const rows = document.querySelectorAll('#employeesTableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const matchesSearch = text.includes(searchTerm);
                const matchesDept = !deptFilter || text.includes(deptFilter);
                const matchesStatus = !statusFilter || text.includes(statusFilter);
                
                row.style.display = (matchesSearch && matchesDept && matchesStatus) ? '' : 'none';
            });
        }

        /*  PAYROLL FUNCTIONS */
        function processPayroll() {
            showAlert('info', 'Coming Soon', 'Payroll processing will be implemented');
        }

        function generatePayrollReport() {
            showAlert('info', 'Coming Soon', 'Payroll report generation will be implemented');
        }

        function viewPayrollDetails(period) {
            showAlert('info', 'Coming Soon', `Payroll details for ${period} will be implemented`);
        }

        /*  DEPARTMENT/MODULE FUNCTIONS */
        function viewModuleReport(module) {
            showAlert('info', 'Coming Soon', `${module} module detailed report will be implemented`);
        }

        /*  REPORTS FUNCTIONS*/
        function generateReport(type) {
            showAlert('info', 'Coming Soon', `${type} report generation will be implemented`);
        }

        function viewReport(reportId) {
            showAlert('info', 'Coming Soon', 'Report viewing will be implemented');
        }

        function downloadReport(reportId) {
            showAlert('info', 'Coming Soon', 'Report download will be implemented');
        }

        /* SYSTEM CONFIG FUNCTIONS*/
        function backupDatabase() {
            if (!confirm('Are you sure you want to create a database backup?')) return;
            showAlert('info', 'Coming Soon', 'Database backup will be implemented');
        }

        function clearCache() {
            if (!confirm('Are you sure you want to clear the system cache?')) return;
            showAlert('info', 'Coming Soon', 'Cache clearing will be implemented');
        }

        function resetSystem() {
            if (!confirm('WARNING: This will reset all system settings. Are you sure?')) return;
            showAlert('info', 'Coming Soon', 'System reset will be implemented');
        }

        /* AUDIT LOG FUNCTIONS */
        async function loadAuditLogs() {
            try {
                const response = await fetch('/api/audit-logs');
                const data = await response.json();
                
                if (data.status === 'success') {
                    auditLogs = data.data;
                    renderAuditLogsTable();
                }
            } catch (err) {
                console.error('Error loading audit logs:', err);
                showAlert('error', 'Error', 'Failed to load audit logs');
            }
        }

        function renderAuditLogsTable() {
            const tbody = document.getElementById('auditLogsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            auditLogs.forEach(log => {
                const badgeClass = log.action === 'CREATE' ? 'success' :
                                log.action === 'UPDATE' ? 'warning' :
                                log.action === 'DELETE' ? 'danger' : 'info';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${log.timestamp}</td>
                    <td>${log.full_name} (${log.username})</td>
                    <td><span class="badge badge-${badgeClass}">${log.action}</span></td>
                    <td>${log.entity}</td>
                    <td>${log.details}</td>
                    <td>${log.ip_address || 'N/A'}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function filterLogs() {
            const searchTerm = document.getElementById('logSearch').value.toLowerCase();
            const actionFilter = document.getElementById('actionFilter').value.toLowerCase();
            const dateFilter = document.getElementById('dateFilter').value;
            
            const rows = document.querySelectorAll('#auditLogsTableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const matchesSearch = text.includes(searchTerm);
                const matchesAction = !actionFilter || text.includes(actionFilter);
                const matchesDate = !dateFilter || row.cells[0].textContent.includes(dateFilter);
                
                row.style.display = (matchesSearch && matchesAction && matchesDate) ? '' : 'none';
            });
        }

        /* LOGOUT*/
        async function logout() {
            if (!confirm('Are you sure you want to logout?')) {
                return;
            }
            
            try {
                const response = await fetch('/api/logout', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }
                });
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    window.location.href = data.redirect;
                }
            } catch (err) {
                console.error('Logout error:', err);
                window.location.href = '/IMS';
            }
        }

        /* ALERT SYSTEM */
        function showAlert(type, title, message) {
            const alert = document.createElement('div');
            alert.className = `custom-alert ${type}`;
            alert.innerHTML = `
                <div class="alert-content">
                    <div class="alert-icon">
                        ${type === 'success' ? '✅' : type === 'error' ? '❌' : 'ℹ️'}
                    </div>
                    <div class="alert-text">
                        <strong>${title}</strong>
                        <p>${message}</p>
                    </div>
                </div>
            `;
            
            alert.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
                color: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                min-width: 300px;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => alert.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>